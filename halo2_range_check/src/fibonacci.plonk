gate add([a, b, c], [s]) {
    return <<s * (a + b - c)>>; // a == a[0]
}

let N = 10;

public input in1;
public input in2;
public output out;

private advice a;
private advice b;
private advice c;

public selector s;

add([a, b, c], [s]);

#region: first row
a[0] <== in1;
b[0] <== in2;

#region: next row
for i in 0..N {
    c[i] <== a[i] + b[i];
    if (i > 0) {
        a[i] <== b[i - 1];
        b[i] <== c[i - 1];
    }
    s[i] <-- 1;
}

out <== c[N-1];


